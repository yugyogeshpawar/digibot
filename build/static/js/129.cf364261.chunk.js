(this["webpackJsonp@Digibot/Digibot"]=this["webpackJsonp@Digibot/Digibot"]||[]).push([[129],{1347:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var r=a(3),i=a(37),n=a(25),s=a(259),c=a(260),l=a(1318),o=a(36),d=a(0),b=["links","action","heading","moreLink","sx"];function u(e){var t=e.links,a=e.action,u=e.heading,j=e.moreLink,x=void 0===j?[]:j,h=e.sx,m=Object(i.a)(e,b);return Object(d.jsxs)(s.a,{sx:Object(r.a)({mb:5},h),children:[Object(d.jsxs)(s.a,{sx:{display:"flex",alignItems:"center"},children:[Object(d.jsxs)(s.a,{sx:{flexGrow:1},children:[Object(d.jsx)(c.a,{variant:"h4",gutterBottom:!0,children:u}),Object(d.jsx)(o.b,Object(r.a)({links:t},m))]}),a&&Object(d.jsx)(s.a,{sx:{flexShrink:0},children:a})]}),Object(d.jsx)(s.a,{sx:{mt:2},children:Object(n.isString)(x)?Object(d.jsx)(l.a,{href:x,target:"_blank",variant:"body2",children:x}):x.map((function(e){return Object(d.jsx)(l.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},2601:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return z}));var r=a(1),i=a(1280),n=a(34),s=a(1330),c=a(122),l=a(344),o=a(26),d=a(90),b=a(436),u=a(1347),j=a(3),x=a(8),h=a.n(x),m=a(17),O=a(52),p=a(61),v=a(43),f=a(1344),y=a(435),g=a(661),q=a(259),C=a(260),k=a(1240),w=a(1340),S=a(1342),U=a(223),B=a(121),N=a(89),W=a(123),T=a(345),A=a(350),D=a(308),E=a(0);function V(e){var t=e.isEdit,a=e.currentUser,i=Object(n.h)(),s=Object(p.useSnackbar)().enqueueSnackbar,c=O.f().shape({name:O.h().required("Name is required"),email:O.h().required("Email is required").email(),phoneNumber:O.h().required("Phone number is required"),address:O.h().required("Address is required"),country:O.h().required("country is required"),company:O.h().required("Company is required"),state:O.h().required("State is required"),city:O.h().required("City is required"),role:O.h().required("Role Number is required"),avatarUrl:O.d().required("Avatar is required")}),l=Object(v.d)({enableReinitialize:!0,initialValues:{name:(null===a||void 0===a?void 0:a.name)||"",email:(null===a||void 0===a?void 0:a.email)||"",phoneNumber:(null===a||void 0===a?void 0:a.phoneNumber)||"",address:(null===a||void 0===a?void 0:a.address)||"",country:(null===a||void 0===a?void 0:a.country)||"",state:(null===a||void 0===a?void 0:a.state)||"",city:(null===a||void 0===a?void 0:a.city)||"",zipCode:(null===a||void 0===a?void 0:a.zipCode)||"",56:(null===a||void 0===a?void 0:a.avatarUrl)||null,isVerified:(null===a||void 0===a?void 0:a.isVerified)||!0,status:null===a||void 0===a?void 0:a.status,company:(null===a||void 0===a?void 0:a.company)||"",role:(null===a||void 0===a?void 0:a.role)||""},validationSchema:c,onSubmit:function(){var e=Object(m.a)(h.a.mark((function e(a,r){var n,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.setSubmitting,c=r.resetForm,l=r.setErrors,e.prev=1,e.next=4,Object(W.a)(500);case 4:c(),n(!1),s(t?"Update success":"Create success",{variant:"success"}),i(o.b.user.list),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),n(!1),l(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,a){return e.apply(this,arguments)}}()}),d=l.errors,b=l.values,u=l.touched,x=l.handleSubmit,V=l.isSubmitting,z=l.setFieldValue,F=l.getFieldProps,P=Object(r.useCallback)((function(e){var t=e[0];t&&z("avatarUrl",Object(j.a)(Object(j.a)({},t),{},{preview:URL.createObjectURL(t)}))}),[z]);return Object(E.jsx)(v.b,{value:l,children:Object(E.jsx)(v.a,{noValidate:!0,autoComplete:"off",onSubmit:x,children:Object(E.jsxs)(y.a,{container:!0,spacing:3,children:[Object(E.jsx)(y.a,{item:!0,xs:12,md:4,children:Object(E.jsxs)(g.a,{sx:{py:10,px:3},children:[t&&Object(E.jsx)(T.a,{color:"active"!==b.status?"error":"success",sx:{textTransform:"uppercase",position:"absolute",top:24,right:24},children:b.status}),Object(E.jsxs)(q.a,{sx:{mb:5},children:[Object(E.jsx)(A.a,{accept:"image/*",file:b.avatarUrl,maxSize:3145728,onDrop:P,error:Boolean(u.avatarUrl&&d.avatarUrl),caption:Object(E.jsxs)(C.a,{variant:"caption",sx:{mt:2,mx:"auto",display:"block",textAlign:"center",color:"text.secondary"},children:["Allowed *.jpeg, *.jpg, *.png, *.gif",Object(E.jsx)("br",{})," max size of ",Object(N.b)(3145728)]})}),Object(E.jsx)(k.a,{error:!0,sx:{px:2,textAlign:"center"},children:u.avatarUrl&&d.avatarUrl})]}),t&&Object(E.jsx)(w.a,{labelPlacement:"start",control:Object(E.jsx)(S.a,{onChange:function(e){return z("status",e.target.checked?"banned":"active")},checked:"active"!==b.status}),label:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(C.a,{variant:"subtitle2",sx:{mb:.5},children:"Banned"}),Object(E.jsx)(C.a,{variant:"body2",sx:{color:"text.secondary"},children:"Apply disable account"})]}),sx:{mx:0,mb:3,width:1,justifyContent:"space-between"}}),Object(E.jsx)(w.a,{labelPlacement:"start",control:Object(E.jsx)(S.a,Object(j.a)(Object(j.a)({},F("isVerified")),{},{checked:b.isVerified})),label:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(C.a,{variant:"subtitle2",sx:{mb:.5},children:"Email Verified"}),Object(E.jsx)(C.a,{variant:"body2",sx:{color:"text.secondary"},children:"Disabling this will automatically send the user a verification email"})]}),sx:{mx:0,width:1,justifyContent:"space-between"}})]})}),Object(E.jsx)(y.a,{item:!0,xs:12,md:8,children:Object(E.jsx)(g.a,{sx:{p:3},children:Object(E.jsxs)(U.a,{spacing:3,children:[Object(E.jsxs)(U.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(E.jsx)(B.a,Object(j.a)(Object(j.a)({fullWidth:!0,label:"Full Name"},F("name")),{},{error:Boolean(u.name&&d.name),helperText:u.name&&d.name})),Object(E.jsx)(B.a,Object(j.a)(Object(j.a)({fullWidth:!0,label:"Email Address"},F("email")),{},{error:Boolean(u.email&&d.email),helperText:u.email&&d.email}))]}),Object(E.jsxs)(U.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(E.jsx)(B.a,Object(j.a)(Object(j.a)({fullWidth:!0,label:"Phone Number"},F("phoneNumber")),{},{error:Boolean(u.phoneNumber&&d.phoneNumber),helperText:u.phoneNumber&&d.phoneNumber})),Object(E.jsxs)(B.a,Object(j.a)(Object(j.a)({select:!0,fullWidth:!0,label:"Country",placeholder:"Country"},F("country")),{},{SelectProps:{native:!0},error:Boolean(u.country&&d.country),helperText:u.country&&d.country,children:[Object(E.jsx)("option",{value:""}),D.a.map((function(e){return Object(E.jsx)("option",{value:e.label,children:e.label},e.code)}))]}))]}),Object(E.jsxs)(U.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(E.jsx)(B.a,Object(j.a)(Object(j.a)({fullWidth:!0,label:"State/Region"},F("state")),{},{error:Boolean(u.state&&d.state),helperText:u.state&&d.state})),Object(E.jsx)(B.a,Object(j.a)(Object(j.a)({fullWidth:!0,label:"City"},F("city")),{},{error:Boolean(u.city&&d.city),helperText:u.city&&d.city}))]}),Object(E.jsxs)(U.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(E.jsx)(B.a,Object(j.a)(Object(j.a)({fullWidth:!0,label:"Address"},F("address")),{},{error:Boolean(u.address&&d.address),helperText:u.address&&d.address})),Object(E.jsx)(B.a,Object(j.a)({fullWidth:!0,label:"Zip/Code"},F("zipCode")))]}),Object(E.jsxs)(U.a,{direction:{xs:"column",sm:"row"},spacing:{xs:3,sm:2},children:[Object(E.jsx)(B.a,Object(j.a)(Object(j.a)({fullWidth:!0,label:"Company"},F("company")),{},{error:Boolean(u.company&&d.company),helperText:u.company&&d.company})),Object(E.jsx)(B.a,Object(j.a)(Object(j.a)({fullWidth:!0,label:"Role"},F("role")),{},{error:Boolean(u.role&&d.role),helperText:u.role&&d.role}))]}),Object(E.jsx)(q.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(E.jsx)(f.a,{type:"submit",variant:"contained",loading:V,children:t?"Save Changes":"Create User"})})]})})})]})})})}function z(){var e=Object(d.a)().themeStretch,t=Object(c.c)(),a=Object(n.g)().pathname,j=Object(n.i)().name,x=Object(c.d)((function(e){return e.user})).userList,h=a.includes("edit"),m=x.find((function(e){return Object(i.a)(e.name)===j}));return Object(r.useEffect)((function(){t(Object(l.B)())}),[t]),Object(E.jsx)(b.a,{title:"User: Create a new user | Digibot",children:Object(E.jsxs)(s.a,{maxWidth:!e&&"lg",children:[Object(E.jsx)(u.a,{heading:h?"Edit user":"Create a new user",links:[{name:"Dashboard",href:o.b.root},{name:"User",href:o.b.user.root},{name:h?j:"New user"}]}),Object(E.jsx)(V,{isEdit:h,currentUser:m})]})})}}}]);
//# sourceMappingURL=129.cf364261.chunk.js.map