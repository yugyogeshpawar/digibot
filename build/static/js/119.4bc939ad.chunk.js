(this["webpackJsonp@Digibot/Digibot"]=this["webpackJsonp@Digibot/Digibot"]||[]).push([[119],{1612:function(e,t,n){"use strict";var r=n(8),i=n.n(r),o=n(17),a=n(18),c=n(6),s=n(154),l=n(21),u=n(1),d=n.n(u),b=n(9),j=n(435),m=n(259),f=n(1236),p=n(661),h=n(1305),O=n(1331),g=n(7),x=n(2),v=n(13),y=n(180),C=n(14),w=n(53),k=n(295),_=n(100),N=n(15),T=n(1291),L=n(68),M=n(660),S=n(153),E=n(181);function P(e){return Object(S.a)("MuiSnackbarContent",e)}Object(E.a)("MuiSnackbarContent",["root","message","action"]);var R=n(0),z=["action","className","message","role"],D=Object(b.a)(M.a,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme,n="light"===t.palette.mode?.8:.98,r=Object(L.d)(t.palette.background.default,n);return Object(x.a)({},t.typography.body2,Object(c.a)({color:t.palette.getContrastText(r),backgroundColor:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1},t.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288}))})),A=Object(b.a)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),B=Object(b.a)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),W=u.forwardRef((function(e,t){var n=Object(C.a)({props:e,name:"MuiSnackbarContent"}),r=n.action,i=n.className,o=n.message,a=n.role,c=void 0===a?"alert":a,s=Object(g.a)(n,z),l=n,u=function(e){var t=e.classes;return Object(y.a)({root:["root"],action:["action"],message:["message"]},P,t)}(l);return Object(R.jsxs)(D,Object(x.a)({role:c,square:!0,elevation:6,className:Object(v.default)(u.root,i),styleProps:l,ref:t},s,{children:[Object(R.jsx)(A,{className:u.message,styleProps:l,children:o}),r?Object(R.jsx)(B,{className:u.action,styleProps:l,children:r}):null]}))}));function I(e){return Object(S.a)("MuiSnackbar",e)}Object(E.a)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);var H=["onEnter","onExited"],J=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onClose","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],U=Object(b.a)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:function(e,t){var n=e.styleProps;return[t.root,t["anchorOrigin".concat(Object(N.a)(n.anchorOrigin.vertical)).concat(Object(N.a)(n.anchorOrigin.horizontal))]]}})((function(e){var t=e.theme,n=e.styleProps;return Object(x.a)({zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},Object(c.a)({},t.breakpoints.up("sm"),Object(x.a)({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"})))})),F=u.forwardRef((function(e,t){var n=Object(C.a)({props:e,name:"MuiSnackbar"}),r=n.action,i=n.anchorOrigin,o=(i=void 0===i?{vertical:"bottom",horizontal:"left"}:i).vertical,c=i.horizontal,s=n.autoHideDuration,l=void 0===s?null:s,d=n.children,b=n.className,j=n.ClickAwayListenerProps,m=n.ContentProps,f=n.disableWindowBlurListener,p=void 0!==f&&f,h=n.message,O=n.onClose,L=n.onMouseEnter,M=n.onMouseLeave,S=n.open,E=n.resumeHideDuration,P=n.TransitionComponent,z=void 0===P?T.a:P,D=n.transitionDuration,A=void 0===D?{enter:w.b.enteringScreen,exit:w.b.leavingScreen}:D,B=n.TransitionProps,F=(B=void 0===B?{}:B).onEnter,G=B.onExited,q=Object(g.a)(n.TransitionProps,H),X=Object(g.a)(n,J),K=Object(x.a)({},n,{anchorOrigin:{vertical:o,horizontal:c}}),Q=function(e){var t=e.classes,n=e.anchorOrigin,r={root:["root","anchorOrigin".concat(Object(N.a)(n.vertical)).concat(Object(N.a)(n.horizontal))]};return Object(y.a)(r,I,t)}(K),V=u.useRef(),Y=u.useState(!0),Z=Object(a.a)(Y,2),$=Z[0],ee=Z[1],te=Object(_.a)((function(){O&&O.apply(void 0,arguments)})),ne=Object(_.a)((function(e){O&&null!=e&&(clearTimeout(V.current),V.current=setTimeout((function(){te(null,"timeout")}),e))}));u.useEffect((function(){return S&&ne(l),function(){clearTimeout(V.current)}}),[S,l,ne]);var re=function(){clearTimeout(V.current)},ie=u.useCallback((function(){null!=l&&ne(null!=E?E:.5*l)}),[l,E,ne]);return u.useEffect((function(){if(!p&&S)return window.addEventListener("focus",ie),window.addEventListener("blur",re),function(){window.removeEventListener("focus",ie),window.removeEventListener("blur",re)}}),[p,ie,S]),!S&&$?null:Object(R.jsx)(k.a,Object(x.a)({onClickAway:function(e){O&&O(e,"clickaway")}},j,{children:Object(R.jsx)(U,Object(x.a)({className:Object(v.default)(Q.root,b),onMouseEnter:function(e){L&&L(e),re()},onMouseLeave:function(e){M&&M(e),ie()},styleProps:K,ref:t},X,{children:Object(R.jsx)(z,Object(x.a)({appear:!0,in:S,timeout:A,direction:"top"===o?"down":"up",onEnter:function(e,t){ee(!1),F&&F(e,t)},onExited:function(e){ee(!0),G&&G(e)}},q,{children:d||Object(R.jsx)(W,Object(x.a)({message:h,action:r},m))}))}))}))})),G=n(1237),q=n(1227),X=n(1341),K=(n(1628),function(e){var t,n=e.binaryTree,r=e.onChildClick,i=n.root,o=n.children,a=n.childrenOfChildren,c=function(e,t){return null!==e&&void 0!==e?Object(R.jsx)(j.a,{item:!0,xs:6,sm:6,md:6,children:Object(R.jsxs)(m.a,{className:"img",style:Q,onClick:function(){return r(e.member_user_id)},children:[Object(R.jsx)("img",{src:"/bot/NanoBot.png",className:"App-logo",alt:"logo",style:{maxWidth:"100px"}}),Object(R.jsxs)("h6",{className:"text-center",style:{textAlign:"center"},children:[e.member_name,Object(R.jsx)("br",{}),e.member_user_id]})]})},t):null},u=Object(l.a)(o).sort((function(e,t){return e.position.localeCompare(t.position)})),d=u.map((function(e){return Object(l.a)(a).filter((function(t){return t.position_parent===e.member_user_id})).sort((function(e,t){return e.position.localeCompare(t.position)}))})),b=[],f=Object(s.a)(d);try{for(f.s();!(t=f.n()).done;)for(var p=t.value,h=0;h<p.length;h+=2){for(var O=p.slice(h,h+2);O.length<2;)O.push(null);b.push(O)}}catch(g){f.e(g)}finally{f.f()}return Object(R.jsx)(m.a,{className:"container",sx:{p:4},children:Object(R.jsxs)(j.a,{container:!0,spacing:3,children:[Object(R.jsx)(j.a,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-around"},children:c(i)}),Object(R.jsx)(j.a,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-around"},children:u.map(c)}),Object(R.jsx)(j.a,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-around"},children:b.map((function(e,t){var n=e.map((function(e,n){return e?Object(R.jsx)(j.a,{item:!0,xs:6,sm:6,md:6,children:Object(R.jsxs)(m.a,{className:"img",style:Q,onClick:function(){return r(e.member_user_id)},children:[Object(R.jsx)("img",{src:"/bot/NanoBot.png",className:"App-logo",alt:"logo",style:{maxWidth:"100px"}}),Object(R.jsxs)("h6",{className:"text-center",style:{textAlign:"center"},children:[e.member_name," ",Object(R.jsx)("br",{}),e.member_user_id]})]})},"".concat(t,"-").concat(n)):Object(R.jsx)(j.a,{item:!0,xs:6,sm:6,md:6,children:Object(R.jsxs)(m.a,{className:"img",style:Q,children:[Object(R.jsx)("img",{src:"/bot/NanoBot.png",className:"App-logo",alt:"logo",style:{maxWidth:"100px",opacity:0}}),Object(R.jsx)("h6",{className:"text-center",style:{textAlign:"center"},children:"No User"})]})},"".concat(t,"-").concat(n))}));return Object(R.jsx)(R.Fragment,{children:n})}))})]})})}),Q={maxWidth:"100px",width:"100%",display:"flex",justifyContent:"center",flexDirection:"column",margin:"auto"},V=Object(b.a)(f.a)({display:"flex",alignItems:"center",justifyContent:"center"});var Y=Object(b.a)(p.a)((function(e){var t=e.theme;return{"& .apexcharts-legend":Object(c.a)({width:240,margin:"auto"},t.breakpoints.up("sm"),{flexWrap:"wrap",height:160,width:"50%"}),"& .apexcharts-datalabels-group":{display:"none"}}}));t.a=function(e){var t=e.data;console.log(t);var n=t&&t.users&&t.users.length>0?t.users[0].member_user_id:null,r=d.a.useState(n),c=Object(a.a)(r,2),s=c[0],l=c[1],u=d.a.useState(!1),b=Object(a.a)(u,2),j=b[0],m=b[1],f=d.a.useState(!1),p=Object(a.a)(f,2),g=p[0],x=p[1],v=function(e,t){if(!e||!e.users)return{root:null,children:[],childrenOfChildren:[]};var n=e.users.find((function(e){return e.member_user_id===t}));if(!n)return{root:null,children:[],childrenOfChildren:[]};var r=e.users.filter((function(e){return e.position_parent===t})),i=e.users.filter((function(e){var t,n;return e.position_parent===(null===(t=r[0])||void 0===t?void 0:t.member_user_id)||e.position_parent===(null===(n=r[1])||void 0===n?void 0:n.member_user_id)}));return{root:n,children:r,childrenOfChildren:i}}(t,s),y=function(){var e=Object(o.a)(i.a.mark((function e(n){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),!(r=t.users.filter((function(e){return e.position_parent===n})))||r.length<2?m(!0):l(n),e.next=5,new Promise((function(e){return setTimeout(e,1e3)}));case 5:x(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(e,t){"clickaway"!==t&&m(!1)};return t&&t.users&&0!==t.users.length?Object(R.jsxs)(Y,{children:[Object(R.jsx)(K,{binaryTree:v,onChildClick:y}),Object(R.jsx)(O.a,{onClick:function(){l(n)},variant:"outlined",size:"medium",style:{marginLeft:"10px"},children:"Root user"}),Object(R.jsx)(F,{open:j,autoHideDuration:6e3,onClose:C,style:{marginTop:"100px"},anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(R.jsx)(h.a,{onClose:C,severity:"error",sx:{width:"100%"},children:"This user doesn't have enough children."})}),Object(R.jsx)(V,{open:g,onClose:function(){},closeAfterTransition:!0,BackdropComponent:G.a,BackdropProps:{timeout:500},children:Object(R.jsx)(q.a,{in:g,children:Object(R.jsx)(X.a,{})})})]}):Object(R.jsx)(Y,{children:Object(R.jsx)(h.a,{severity:"warning",children:"No data available"})})}},1628:function(e){e.exports=JSON.parse("{}")},2501:function(e,t,n){"use strict";n.r(t);var r=n(21),i=n(1),o=n.n(i),a=n(1612),c=n(122),s=n(344),l=n(0);t.default=function(){var e=Object(c.c)(),t=Object(c.d)((function(e){return e.user})).downLineData;o.a.useEffect((function(){e(Object(s.j)())}),[e]);var n={users:[]};return t&&t.mainUser&&t.users&&(n.users=[t.mainUser[0][0]].concat(Object(r.a)(t.users))),Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(a.a,{data:n})})}}}]);
//# sourceMappingURL=119.4bc939ad.chunk.js.map